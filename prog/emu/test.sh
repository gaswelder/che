#!/bin/sh

a=`./emu.out disas tetris.chip8`
test "$a" = '0x512	a2b4	LD	I, 0x2b4
0x514	23e6	CALL	0x3e6
0x516	22b6	CALL	0x2b6
0x518	7001	ADD	V0, 0x1
0x520	d011	DRW	V0, V1, 1
0x522	3025	SE	V0, 0x25
0x524	1206	JP	0x206
0x526	71ff	ADD	V1, 0xff
0x528	d011	DRW	V0, V1, 1
0x530	601a	LD	V0, 0x1a
0x532	d011	DRW	V0, V1, 1
0x534	6025	LD	V0, 0x25
0x536	3100	SE	V1, 0x0
0x538	120e	JP	0x20e
0x540	c470	RND	V4, 0x70
0x542	4470	SNE	V4, 0x70
0x544	121c	JP	0x21c
0x546	c303	RND	V3, 0x3
0x548	601e	LD	V0, 0x1e
0x550	6103	LD	V1, 0x3
0x552	225c	CALL	0x25c
0x554	f515	LD	DT, V5
0x556	d014	DRW	V0, V1, 4
0x558	3f01	SE	Vf, 0x1
0x560	123c	JP	0x23c
0x562	d014	DRW	V0, V1, 4
0x564	71ff	ADD	V1, 0xff
0x566	d014	DRW	V0, V1, 4
0x568	2340	CALL	0x340
0x570	121c	JP	0x21c
0x572	e7a1	SNKP	V7
0x574	2272	CALL	0x272
0x576	e8a1	SNKP	V8
0x578	2284	CALL	0x284
0x580	e9a1	SNKP	V9
0x582	2296	CALL	0x296
0x584	e29e	SKP	V2
0x586	1250	JP	0x250
0x588	6600	LD	V6, 0x0
0x590	f615	LD	DT, V6
0x592	f607	LD	V6, DT
0x594	3600	SE	V6, 0x0
0x596	123c	JP	0x23c
0x598	d014	DRW	V0, V1, 4
0x600	7101	ADD	V1, 0x1
0x602	122a	JP	0x22a
0x604	a2c4	LD	I, 0x2c4
0x606	f41e	ADD	I, V4
0x608	6600	LD	V6, 0x0
0x610	4301	SNE	V3, 0x1
0x612	6604	LD	V6, 0x4
0x614	4302	SNE	V3, 0x2
0x616	6608	LD	V6, 0x8
0x618	4303	SNE	V3, 0x3
0x620	660c	LD	V6, 0xc
0x622	f61e	ADD	I, V6
0x624	00ee	RET
0x626	d014	DRW	V0, V1, 4
0x628	70ff	ADD	V0, 0xff
0x630	2334	CALL	0x334
0x632	3f01	SE	Vf, 0x1
0x634	00ee	RET
0x636	d014	DRW	V0, V1, 4
0x638	7001	ADD	V0, 0x1
0x640	2334	CALL	0x334
0x642	00ee	RET
0x644	d014	DRW	V0, V1, 4
0x646	7001	ADD	V0, 0x1
0x648	2334	CALL	0x334
0x650	3f01	SE	Vf, 0x1
0x652	00ee	RET
0x654	d014	DRW	V0, V1, 4
0x656	70ff	ADD	V0, 0xff
0x658	2334	CALL	0x334
0x660	00ee	RET
0x662	d014	DRW	V0, V1, 4
0x664	7301	ADD	V3, 0x1
0x666	4304	SNE	V3, 0x4
0x668	6300	LD	V3, 0x0
0x670	225c	CALL	0x25c
0x672	2334	CALL	0x334
0x674	3f01	SE	Vf, 0x1
0x676	00ee	RET
0x678	d014	DRW	V0, V1, 4
0x680	73ff	ADD	V3, 0xff
0x682	43ff	SNE	V3, 0xff
0x684	6303	LD	V3, 0x3
0x686	225c	CALL	0x25c
0x688	2334	CALL	0x334
0x690	00ee	RET
0x692	8000	LD	V0, V0
0x694	6705	LD	V7, 0x5
0x696	6806	LD	V8, 0x6
0x698	6904	LD	V9, 0x4
0x700	611f	LD	V1, 0x1f
0x702	6510	LD	V5, 0x10
0x704	6207	LD	V2, 0x7
0x706	00ee	RET
0x708	40e0	SNE	V0, 0xe0
0x710	0000	SYS	0x0
0x712	40c0	SNE	V0, 0xc0
0x714	4000	SNE	V0, 0x0
0x716	00e0	CLS
0x718	4000	SNE	V0, 0x0
0x720	4060	SNE	V0, 0x60
0x722	4000	SNE	V0, 0x0
0x724	4040	SNE	V0, 0x40
0x726	6000	LD	V0, 0x0
0x728	20e0	CALL	0xe0
0x730	0000	SYS	0x0
0x732	c040	RND	V0, 0x40
0x734	4000	SNE	V0, 0x0
0x736	00e0	CLS
0x738	8000	LD	V0, V0
0x740	4040	SNE	V0, 0x40
0x742	c000	RND	V0, 0x0
0x744	00e0	CLS
0x746	2000	CALL	0x0
0x748	6040	LD	V0, 0x40
0x750	4000	SNE	V0, 0x0
0x752	80e0	LD	V0, Ve
0x754	0000	SYS	0x0
0x756	40c0	SNE	V0, 0xc0
0x758	8000	LD	V0, V0
0x760	c060	RND	V0, 0x60
0x762	0000	SYS	0x0
0x764	40c0	SNE	V0, 0xc0
0x766	8000	LD	V0, V0
0x768	c060	RND	V0, 0x60
0x770	0000	SYS	0x0
0x772	80c0	LD	V0, Vc
0x774	4000	SNE	V0, 0x0
0x776	0060	SYS	0x60
0x778	c000	RND	V0, 0x0
0x780	80c0	LD	V0, Vc
0x782	4000	SNE	V0, 0x0
0x784	0060	SYS	0x60
0x786	c000	RND	V0, 0x0
0x788	c0c0	RND	V0, 0xc0
0x790	0000	SYS	0x0
0x792	c0c0	RND	V0, 0xc0
0x794	0000	SYS	0x0
0x796	c0c0	RND	V0, 0xc0
0x798	0000	SYS	0x0
0x800	c0c0	RND	V0, 0xc0
0x802	0000	SYS	0x0
0x804	4040	SNE	V0, 0x40
0x806	4040	SNE	V0, 0x40
0x808	00f0	SYS	0xf0
0x810	0000	SYS	0x0
0x812	4040	SNE	V0, 0x40
0x814	4040	SNE	V0, 0x40
0x816	00f0	SYS	0xf0
0x818	0000	SYS	0x0
0x820	d014	DRW	V0, V1, 4
0x822	6635	LD	V6, 0x35
0x824	76ff	ADD	V6, 0xff
0x826	3600	SE	V6, 0x0
0x828	1338	JP	0x338
0x830	00ee	RET
0x832	a2b4	LD	I, 0x2b4
0x834	8c10	LD	Vc, V1
0x836	3c1e	SE	Vc, 0x1e
0x838	7c01	ADD	Vc, 0x1
0x840	3c1e	SE	Vc, 0x1e
0x842	7c01	ADD	Vc, 0x1
0x844	3c1e	SE	Vc, 0x1e
0x846	7c01	ADD	Vc, 0x1
0x848	235e	CALL	0x35e
0x850	4b0a	SNE	Vb, 0xa
0x852	2372	CALL	0x372
0x854	91c0	SNE	V1, Vc
0x856	00ee	RET
0x858	7101	ADD	V1, 0x1
0x860	1350	JP	0x350
0x862	601b	LD	V0, 0x1b
0x864	6b00	LD	Vb, 0x0
0x866	d011	DRW	V0, V1, 1
0x868	3f00	SE	Vf, 0x0
0x870	7b01	ADD	Vb, 0x1
0x872	d011	DRW	V0, V1, 1
0x874	7001	ADD	V0, 0x1
0x876	3025	SE	V0, 0x25
0x878	1362	JP	0x362
0x880	00ee	RET
0x882	601b	LD	V0, 0x1b
0x884	d011	DRW	V0, V1, 1
0x886	7001	ADD	V0, 0x1
0x888	3025	SE	V0, 0x25
0x890	1374	JP	0x374
0x892	8e10	LD	Ve, V1
0x894	8de0	LD	Vd, Ve
0x896	7eff	ADD	Ve, 0xff
0x898	601b	LD	V0, 0x1b
0x900	6b00	LD	Vb, 0x0
0x902	d0e1	DRW	V0, Ve, 1
0x904	3f00	SE	Vf, 0x0
0x906	1390	JP	0x390
0x908	d0e1	DRW	V0, Ve, 1
0x910	1394	JP	0x394
0x912	d0d1	DRW	V0, Vd, 1
0x914	7b01	ADD	Vb, 0x1
0x916	7001	ADD	V0, 0x1
0x918	3025	SE	V0, 0x25
0x920	1386	JP	0x386
0x922	4b00	SNE	Vb, 0x0
0x924	13a6	JP	0x3a6
0x926	7dff	ADD	Vd, 0xff
0x928	7eff	ADD	Ve, 0xff
0x930	3d01	SE	Vd, 0x1
0x932	1382	JP	0x382
0x934	23c0	CALL	0x3c0
0x936	3f01	SE	Vf, 0x1
0x938	23c0	CALL	0x3c0
0x940	7a01	ADD	Va, 0x1
0x942	23c0	CALL	0x3c0
0x944	80a0	LD	V0, Va
0x946	6d07	LD	Vd, 0x7
0x948	80d2	AND	V0, Vd
0x950	4004	SNE	V0, 0x4
0x952	75fe	ADD	V5, 0xfe
0x954	4502	SNE	V5, 0x2
0x956	6504	LD	V5, 0x4
0x958	00ee	RET
0x960	a700	LD	I, 0x700
0x962	f255	LD	[I], V2
0x964	a804	LD	I, 0x804
0x966	fa33	LD	B, Va
0x968	f265	LD	V2, [I]
0x970	f029	LD	F, V0
0x972	6d32	LD	Vd, 0x32
0x974	6e00	LD	Ve, 0x0
0x976	dde5	DRW	Vd, Ve, 5
0x978	7d05	ADD	Vd, 0x5
0x980	f129	LD	F, V1
0x982	dde5	DRW	Vd, Ve, 5
0x984	7d05	ADD	Vd, 0x5
0x986	f229	LD	F, V2
0x988	dde5	DRW	Vd, Ve, 5
0x990	a700	LD	I, 0x700
0x992	f265	LD	V2, [I]
0x994	a2b4	LD	I, 0x2b4
0x996	00ee	RET
0x998	6a00	LD	Va, 0x0
0x1000	6019	LD	V0, 0x19
0x1002	00ee	RET
0x1004	3723	SE	V7, 0x23
0x1006	0000	SYS	0x0'
